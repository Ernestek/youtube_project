{% extends 'account/base.html' %}
{#<!DOCTYPE html>#}
{#<html>#}
{#<head>#}
{% block head_title %} Search Youtube Channels{% endblock %}
{% block extra_head %}
    <style>
        /* Стили для таблицы */
        table {
            border-collapse: collapse;
            width: 100%;
            background-color: white; /* Черный цвет фона таблицы */
            color: black; /* Белый цвет текста */
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
{% endblock %}
{#</head>#}
{#<body>#}
 {% block content %}
    <h1>Parameter Selector</h1>
    {% if count_search_request > 0 %}
    <form method="post">
        {% csrf_token %}
        <p>{{ form.query.label }}
        {{ form.query }}</p>
        <p>{{ form.language.label }}
        {{ form.language }}</p>
        <p>{{ form.region.label }}
        {{ form.region }}</p>
        <p>{{ form.topic.label }}
        {{ form.topic }}</p>
        <p>{{ form.channel_type.label }}
        {{ form.channel_type }}</p>
        <p>{{ form.safe_search.label }}
        {{ form.safe_search }}</p>
        <p>{{ form.date_from.label }}
        {{ form.date_from }}</p>
        <p>{{ form.date_to.label }}
        {{ form.date_to }}</p>
        <button type="submit">Submit</button>
    </form>
    {% else %}
        <p>No search request</p>
    {% endif %}
    {% if channels %}
        <h2>Channel List</h2>
        <form method="get" action="">
            <label for="per_page">Per Page:</label>
            <select id="per_page" name="per_page">
                <option value="10" {% if channels.paginator.per_page == 10 %}selected{% endif %}>10</option>
                <option value="20" {% if channels.paginator.per_page == 20 %}selected{% endif %}>20</option>
                <option value="50" {% if channels.paginator.per_page == 50 %}selected{% endif %}>50</option>
            </select>
            <button type="submit">Apply</button>
        </form>
        <table>
            <tr>
                <th>Channel ID</th>
                <th>Channel Title</th>
                <th>Description</th>
                <th>Kind</th>
                <th>Etag</th>
                <th>ID Kind</th>
                <th>Published At</th>
                <th>Thumbnails Default</th>
                <th>Thumbnails Medium</th>
                <th>Thumbnails High</th>
                <th>Live Broadcast Content</th>
                <th>Publish Time</th>
            </tr>
            {% for channel in channels %}
            <tr>
                <td>{{ channel.channel_id }}</td>
                <td>{{ channel.channel_title }}</td>
                <td>{{ channel.description }}</td>
                <td>{{ channel.kind }}</td>
                <td>{{ channel.etag }}</td>
                <td>{{ channel.id_kind }}</td>
                <td>{{ channel.published_at }}</td>
                <td>{{ channel.thumbnails_default }}</td>
                <td>{{ channel.thumbnails_medium }}</td>
                <td>{{ channel.thumbnails_high }}</td>
                <td>{{ channel.live_broadcast_content }}</td>
                <td>{{ channel.publish_time }}</td>
            </tr>
            {% endfor %}
        </table>
        <div class="pagination">
            <span class="step-links">
                {% if channels.has_previous %}
                    <a href="?page=1&per_page={{ channels.paginator.per_page }}">first</a>
                    <a href="?page={{ channels.previous_page_number }}&per_page={{ channels.paginator.per_page }}">previous</a>
                {% endif %}

                <span class="current-page">{{ channels.number }} of {{ channels.paginator.num_pages }}.</span>

                {% if channels.has_next %}
                    <a href="?page={{ channels.next_page_number }}&per_page={{ channels.paginator.per_page }}">next</a>
                    <a href="?page={{ channels.paginator.num_pages }}&per_page={{ channels.paginator.per_page }}">last</a>
                {% endif %}
            </span>
        </div>
    {% endif %}
 {% endblock %}
{##}
{#</body>#}
{#</html>#}